<svg width="1400" height="700" xmlns="http://www.w3.org/2000/svg">
  <!-- 标题 -->
  <text x="700" y="50" font-family="Arial, 微软雅黑" font-size="16" text-anchor="middle" fill="#333" font-weight="bold">
    京东多智能体复杂信息检索系统 - 技术路线图
  </text>

  <!-- 1. 阶段一：数据采集与预处理（扩大模块尺寸） -->
  <rect x="50" y="90" width="280" height="130" rx="6" fill="#E6F4FF" stroke="#409EFF" stroke-width="2"/>
  <text x="190" y="125" font-family="Arial, 微软雅黑" font-size="14" text-anchor="middle" fill="#333" font-weight="bold">
    阶段1：数据采集与预处理
  </text>
  <text x="190" y="155" font-family="Arial, 微软雅黑" font-size="10" text-anchor="middle" fill="#333">
    核心目标：获取多源电商数据（商品页/评论/问答）
  </text>
  <text x="190" y="185" font-family="Arial, 微软雅黑" font-size="10" text-anchor="middle" fill="#333">
    关键技术：<tspan fill="#409EFF">Scrapy+Playwright</tspan>、数据清洗去重、分词
  </text>
  <text x="190" y="215" font-family="Arial, 微软雅黑" font-size="10" text-anchor="middle" fill="#333">
    架构模块：分布式爬虫、<tspan fill="#409EFF">Elasticsearch+FAISS</tspan>混合索引
  </text>

  <!-- 2. 阶段二：混合检索模型构建（扩大模块尺寸） -->
  <rect x="380" y="90" width="280" height="130" rx="6" fill="#E6FFFB" stroke="#20C997" stroke-width="2"/>
  <text x="520" y="125" font-family="Arial, 微软雅黑" font-size="14" text-anchor="middle" fill="#333" font-weight="bold">
    阶段2：混合检索模型构建
  </text>
  <text x="520" y="155" font-family="Arial, 微软雅黑" font-size="10" text-anchor="middle" fill="#333">
    核心目标：兼顾关键词召回与语义匹配
  </text>
  <text x="520" y="185" font-family="Arial, 微软雅黑" font-size="10" text-anchor="middle" fill="#333">
    关键技术：<tspan fill="#20C997">BM25</tspan>+<tspan fill="#20C997">Sentence-BERT</tspan>+<tspan fill="#20C997">ColBERT</tspan>
  </text>
  <text x="520" y="215" font-family="Arial, 微软雅黑" font-size="10" text-anchor="middle" fill="#333">
    架构模块：多路召回引擎、LambdaMART排序模型
  </text>

  <!-- 3. 阶段三：知识融合与图谱构建（扩大模块尺寸） -->
  <rect x="710" y="90" width="280" height="130" rx="6" fill="#FFF7E6" stroke="#FF9F43" stroke-width="2"/>
  <text x="850" y="125" font-family="Arial, 微软雅黑" font-size="14" text-anchor="middle" fill="#333" font-weight="bold">
    阶段3：知识融合与图谱构建
  </text>
  <text x="850" y="155" font-family="Arial, 微软雅黑" font-size="10" text-anchor="middle" fill="#333">
    核心目标：统一多源数据语义表示
  </text>
  <text x="850" y="185" font-family="Arial, 微软雅黑" font-size="10" text-anchor="middle" fill="#333">
    关键技术：<tspan fill="#FF9F43">Schema Matching</tspan>、<tspan fill="#FF9F43">Neo4j</tspan>、GAT图聚合
  </text>
  <text x="850" y="215" font-family="Arial, 微软雅黑" font-size="10" text-anchor="middle" fill="#333">
    架构模块：知识图谱引擎、实体对齐模块
  </text>

  <!-- 4. 阶段四：语义理解与任务处理（扩大模块尺寸） -->
  <rect x="1040" y="90" width="280" height="130" rx="6" fill="#F9E6FF" stroke="#9D4EDD" stroke-width="2"/>
  <text x="1180" y="125" font-family="Arial, 微软雅黑" font-size="14" text-anchor="middle" fill="#333" font-weight="bold">
    阶段4：语义理解与任务处理
  </text>
  <text x="1180" y="155" font-family="Arial, 微软雅黑" font-size="10" text-anchor="middle" fill="#333">
    核心目标：精准解析需求与提取语义信息
  </text>
  <text x="1180" y="185" font-family="Arial, 微软雅黑" font-size="10" text-anchor="middle" fill="#333">
    关键技术：<tspan fill="#9D4EDD">LLM-NER</tspan>、细粒度情感分析、CLIP多模态融合
  </text>
  <text x="1180" y="215" font-family="Arial, 微软雅黑" font-size="10" text-anchor="middle" fill="#333">
    架构模块：语义解析引擎、评论主题聚类模块
  </text>

  <!-- 5. 阶段五：多智能体协同调度（扩大模块尺寸） -->
  <rect x="50" y="270" width="280" height="130" rx="6" fill="#F0F2F5" stroke="#6B7280" stroke-width="2"/>
  <text x="190" y="305" font-family="Arial, 微软雅黑" font-size="14" text-anchor="middle" fill="#333" font-weight="bold">
    阶段5：多智能体协同调度
  </text>
  <text x="190" y="335" font-family="Arial, 微软雅黑" font-size="10" text-anchor="middle" fill="#333">
    核心目标：高效分配任务与同步信息
  </text>
  <text x="190" y="365" font-family="Arial, 微软雅黑" font-size="10" text-anchor="middle" fill="#333">
    关键技术：<tspan fill="#6B7280">OxyGent框架</tspan>、消息驱动通信、动态资源分配
  </text>
  <text x="190" y="395" font-family="Arial, 微软雅黑" font-size="10" text-anchor="middle" fill="#333">
    架构模块：任务调度中心、智能体注册管理
  </text>

  <!-- 6. 阶段六：结果生成与评测优化（扩大模块尺寸） -->
  <rect x="380" y="270" width="280" height="130" rx="6" fill="#E8F5E9" stroke="#4CAF50" stroke-width="2"/>
  <text x="520" y="305" font-family="Arial, 微软雅黑" font-size="14" text-anchor="middle" fill="#333" font-weight="bold">
    阶段6：结果生成与评测优化
  </text>
  <text x="520" y="335" font-family="Arial, 微软雅黑" font-size="10" text-anchor="middle" fill="#333">
    核心目标：输出可解释结果并迭代优化
  </text>
  <text x="520" y="365" font-family="Arial, 微软雅黑" font-size="10" text-anchor="middle" fill="#333">
    关键技术：<tspan fill="#4CAF50">RLHF</tspan>、Recall@k/MRR指标监控、主动反馈循环
  </text>
  <text x="520" y="395" font-family="Arial, 微软雅黑" font-size="10" text-anchor="middle" fill="#333">
    架构模块：结果生成引擎、动态优化模块
  </text>

  <!-- 右侧：技术架构总览（扩大尺寸，优化文字排版） -->
  <rect x="710" y="270" width="500" height="220" rx="6" fill="#F8F9FA" stroke="#ADB5BD" stroke-width="2"/>
  <text x="960" y="305" font-family="Arial, 微软雅黑" font-size="14" text-anchor="middle" fill="#333" font-weight="bold">
    核心技术架构总览
  </text>
  <text x="780" y="340" font-family="Arial, 微软雅黑" font-size="11" text-anchor="start" fill="#333">
    • 数据层：分布式爬虫 + Elasticsearch/FAISS 混合索引
  </text>
  <text x="780" y="370" font-family="Arial, 微软雅黑" font-size="11" text-anchor="start" fill="#333">
    • 模型层：混合检索模型（BM25+Sentence-BERT） + LLM语义模型 + 知识图谱
  </text>
  <text x="780" y="400" font-family="Arial, 微软雅黑" font-size="11" text-anchor="start" fill="#333">
    • 协同层：OxyGent多智能体框架 + 动态任务调度 + 智能体通信协议
  </text>
  <text x="780" y="430" font-family="Arial, 微软雅黑" font-size="11" text-anchor="start" fill="#333">
    • 应用层：评论分析模块（情感/主题） + 商品属性比对模块（多维度）
  </text>
  <text x="780" y="460" font-family="Arial, 微软雅黑" font-size="11" text-anchor="start" fill="#333">
    • 优化层：RLHF反馈学习 + 实时评测指标监控（Recall@k/MRR/响应时间）
  </text>

  <!-- 阶段间流向箭头（同步调整位置，确保对准模块） -->
  <line x1="330" y1="155" x2="380" y2="155" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="660" y1="155" x2="710" y2="155" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="990" y1="155" x2="1040" y2="155" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="190" y1="220" x2="190" y2="270" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="520" y1="220" x2="520" y2="270" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="330" y1="335" x2="380" y2="335" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- 箭头标记定义 -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
    </marker>
  </defs>
</svg>
